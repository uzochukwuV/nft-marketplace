{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS%20FX95G/Desktop/celusion/nft-marketplace/frontend/hooks/useReadContract.tsx"],"sourcesContent":["import { AbiCoder, Contract } from \"ethers\";\r\nimport { useMemo } from \"react\";\r\n\r\nimport BaseMarketABI from \"@/abi/BaseMarket.json\"\r\n\r\nimport BaseNftABI from \"@/abi/BaseNft.json\"\r\nimport BaseCoinABI from \"@/abi/BaseCoin.json\"\r\nimport { IWeb3Context, useWeb3Context } from \"@/context/web3Context\";\r\n\r\n\r\nexport const coin = \"0xc8dc2a0c2ee0cdc3bea8961176bd88638e7634f6\"\r\nexport const nft = \"0x30f6d11a066ec1343091b2dc108e6c3cd7faec10\"\r\nexport const market = \"0xd22caba8dfe5eb0ee64ec5f9b059a91874f4be84\"\r\n\r\ninterface ContractNames {\r\n    contracts: \"BaseMarket\" | \"BaseCoin\" | \"BaseNft\"\r\n}\r\n\r\nconst useContract = ({ contracts }: ContractNames) => {\r\n    const { state } = useWeb3Context() as IWeb3Context;\r\n    const ContractABI = contracts == \"BaseMarket\" ? BaseMarketABI : contracts == \"BaseCoin\" ? BaseCoinABI : BaseNftABI;\r\n    const address = contracts == \"BaseMarket\" ? market : contracts == \"BaseCoin\" ? coin : nft;\r\n    return useMemo(\r\n        () => state.signer && new Contract(address, ContractABI[\"abi\"], state.signer),\r\n        [state.signer]\r\n    );\r\n};\r\n\r\nexport default useContract;\r\n\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAEA;AAEA;AACA;AACA;;;;;;;AAGO,MAAM,OAAO;AACb,MAAM,MAAM;AACZ,MAAM,SAAS;AAMtB,MAAM,cAAc,CAAC,EAAE,SAAS,EAAiB;IAC7C,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,uHAAA,CAAA,iBAAc,AAAD;IAC/B,MAAM,cAAc,aAAa,eAAe,yFAAA,CAAA,UAAa,GAAG,aAAa,aAAa,uFAAA,CAAA,UAAW,GAAG,sFAAA,CAAA,UAAU;IAClH,MAAM,UAAU,aAAa,eAAe,SAAS,aAAa,aAAa,OAAO;IACtF,OAAO,CAAA,GAAA,oUAAA,CAAA,UAAO,AAAD,EACT,IAAM,MAAM,MAAM,IAAI,IAAI,gNAAA,CAAA,WAAQ,CAAC,SAAS,WAAW,CAAC,MAAM,EAAE,MAAM,MAAM,GAC5E;QAAC,MAAM,MAAM;KAAC;AAEtB;uCAEe","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS%20FX95G/Desktop/celusion/nft-marketplace/frontend/components/nft-card.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { IWeb3Context, useWeb3Context } from '@/context/web3Context';\r\nimport useContract, { market } from '@/hooks/useReadContract';\r\nimport { NFT } from '@/interface/nft'\r\nimport { parseEther } from 'ethers';\r\nimport React, { Ref, RefObject, useRef, useState } from 'react'\r\n\r\nfunction NFTCard({ nft }: { nft: NFT }) {\r\n    const radioRef = useRef<HTMLInputElement | null>(null);\r\n    const { state } = useWeb3Context() as IWeb3Context;\r\n    const [isLoading, setLoading] = useState<boolean>(false);\r\n    const [price, setPrice] = useState<number>()\r\n    const market_contract = useContract({ contracts: \"BaseMarket\" });\r\n    const nft_contract = useContract({ contracts: \"BaseNft\" });\r\n\r\n    const handleSubmit = async (e: React.MouseEvent<HTMLButtonElement>) => {\r\n        e.preventDefault()\r\n        setLoading(true)\r\n        try {\r\n            const nft_trx = await nft_contract?.approve(market, nft?.tokenId);\r\n            await nft_trx?.wait();\r\n            const transaction = await market_contract?.listNFT(nft?.tokenId, parseEther(price!.toString()));\r\n            await transaction.wait();\r\n            setPrice(0)\r\n            setLoading(false)\r\n            radioRef.current!.checked = false;\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n\r\n        // e.currentTarget.reset()\r\n    }\r\n\r\n    return (\r\n        <div>\r\n\r\n            <input type=\"radio\" hidden ref={radioRef} id={nft?.tokenId?.toString()} name='list_for_sale' data-value=\"nft-card\" value={nft?.tokenId} />\r\n            <div className=' invisible opacity-0 transition-all delay-75 duration-150 absolute top-0 left-0 right-0 bottom-0 bg-black/20 z-20'>\r\n                <div className=\"h-full w-full flex justify-center items-center\">\r\n                    <div className=\"max-w-[500px] w-full h-[500px] bg-zinc-800 rounded-2xl\">\r\n                        <div className=' h-full w-full p-4 pt-4'>\r\n                            <div className=' flex justify-end'>\r\n                                <div onClick={() => {\r\n                                    radioRef.current!.checked = false;\r\n                                }}\r\n                                    className=' rounded-full bg-zinc-600 hover:bg-zinc-500'\r\n                                >\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\" width=\"24px\" fill=\"#fff\"><path d=\"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z\" /></svg>\r\n                                </div>\r\n                            </div>\r\n                            <div className=' h-1/2 my-2'>\r\n                                {\r\n                                    nft?.media_type == \"image\" ?\r\n                                        <img src=\"/test1.avif\" alt=\"\" className=' relative block h-full rounded-2xl  w-full object-cover aspect-square' />\r\n                                        : <video src={nft?.image} className=' relative block h-full rounded-2xl  w-full object-cover aspect-square' />\r\n                                }\r\n                            </div>\r\n                            <div>\r\n                                <h3 className=' text-2xl font-semibold mb-4'>{nft?.name}  #{nft?.tokenId}</h3>\r\n                            </div>\r\n                            <form>\r\n                                <div className=\"mb-6\">\r\n                                    <label htmlFor=\"price\" className=\"block mb-2 text-sm font-medium text-zinc-900 dark:text-white\">Input price of nft</label>\r\n                                    <input type=\"number\" id=\"price\" value={price} onChange={(e) => setPrice(Number(e.target.value))} name='price' placeholder='100' className=\" border border-zinc-300 text-zinc-900 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-3.5  dark:border-zinc-600 dark:placeholder-zinc-400 dark:text-white dark:focus:ring-indigo-500 dark:focus:border-indigo-500\" />\r\n                                </div>\r\n                                <button onClick={handleSubmit} type=\"button\" disabled={isLoading} className=\" border border-zinc-300 text-zinc-900 text-sm rounded-lg bg-indigo-500 focus:border-indigo-500 block w-full p-3.5  dark:border-zinc-600 dark:placeholder-zinc-400 dark:text-white dark:focus:ring-indigo-500 dark:focus:border-indigo-500\" >\r\n                                    {\r\n                                        isLoading ? \"Processing....\" : \"Sell\"\r\n                                    }\r\n                                </button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=' h-[320px] md:max-w-[280px] flex flex-col p-2 border border-zinc-700 hover:shadow-md shadow-zinc-800 rounded-2xl bg-zinc-800'>\r\n                <div className='relative h-2/3 group '>\r\n                    <div className='group-hover:opacity-100 opacity-0 transition-all delay-75 duration-200  absolute top-0 left-0 right-0 bottom-0 bg-black/20 z-10 flex justify-center items-center'>\r\n                        <label htmlFor={nft?.tokenId?.toString()} className=\" bg-[#6154f3] text-white rounded-xl px-4 py-2  \">List for sale</label>\r\n                    </div>\r\n                    <div className='absolute top-4 right-4 rounded-2xl z-10 bg-black'>\r\n                        <p className=' text-xs font-semibold '>{nft?.owner}</p>\r\n                    </div>\r\n                    {\r\n                        nft?.media_type == \"image\"?\r\n                        <img src=\"/test1.avif\" alt=\"\" className=' relative block h-full rounded-2xl  w-full object-cover aspect-square' />\r\n                        : <video src={nft?.image} className=' relative block h-full rounded-2xl  w-full object-cover aspect-square' />\r\n                    }\r\n                    </div>\r\n                <div className=' flex-1 py-2 space-y-1.5 '>\r\n                    <div className='text-sm'>\r\n                        <p>{nft?.name} #{nft?.tokenId}</p>\r\n                    </div>\r\n                    <div className=' '>\r\n                        <p className=' text-xs line-clamp-2 text-slate-200'>{nft?.description}</p>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport function NFTCardSeleton() {\r\n    return (\r\n        <div className='h-[320px] md:max-w-[280px] flex flex-col p-2 border border-zinc-700 hover:shadow-md shadow-zinc-800 rounded-2xl bg-zinc-800 animate-pulse'>\r\n            <div className='relative h-2/3 group bg-zinc-500 rounded-2xl'></div>\r\n            <div className='flex-1 py-2 flex justify-between flex-col'>\r\n                <div className='px-2 h-3 bg-zinc-600  w-1/2 py-2 rounded-2xl'></div>\r\n                <div className='px-2 h-3 bg-zinc-600  w-2/3 py-1 rounded-2xl'></div>\r\n                <div className='px-4  flex justify-between items-center py-4 bg-zinc-900 rounded-xl'>\r\n                    <div className='flex text-sm items-end justify-between w-full'>\r\n                       \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default NFTCard"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 447, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS%20FX95G/Desktop/celusion/nft-marketplace/frontend/components/sale-card.tsx"],"sourcesContent":["\"use client\"\r\nimport { ListedNFT } from '@/interface/nft'\r\nimport { IWeb3Context, useWeb3Context } from '@/context/web3Context';\r\nimport useContract, { market } from '@/hooks/useReadContract';\r\nimport React, { useRef, useState } from 'react'\r\nimport { formatEther, parseEther } from 'ethers';\r\n\r\n\r\nexport default function SaleCard({nft}:{nft:ListedNFT}) {\r\n    const radioRef = useRef<HTMLInputElement | null>(null);\r\n    const { state } = useWeb3Context() as IWeb3Context;\r\n    const [isLoading, setLoading] = useState<boolean>(false);\r\n   \r\n    const market_contract = useContract({ contracts: \"BaseMarket\" });\r\n    const coin_contract = useContract({ contracts: \"BaseCoin\" });\r\n\r\n    const handleSubmit = async (e: React.MouseEvent<HTMLButtonElement>) => {\r\n        e.preventDefault()\r\n        setLoading(true)\r\n        try {\r\n            const nft_trx = await coin_contract?.approve(market, parseEther(nft?.price!.toString()));\r\n            await nft_trx?.wait();\r\n            const transaction = await market_contract?.purchaseNFT(nft?.tokenId);\r\n            await transaction.wait();\r\n            \r\n            setLoading(false)\r\n            radioRef.current!.checked = false;\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n\r\n        // e.currentTarget.reset()\r\n    }\r\n  return (\r\n    <div className=' '>\r\n        {/*  */}\r\n        <input type=\"radio\" hidden ref={radioRef} id={nft?.tokenId?.toString()} name='list_for_sale' data-value=\"nft-card\" value={nft?.tokenId} />\r\n            <div className=' invisible opacity-0 transition-all delay-75 duration-150 absolute top-0 left-0 right-0 bottom-0 bg-black/20 z-20'>\r\n                <div className=\"h-full w-full flex justify-center items-center\">\r\n                    <div className=\"max-w-[500px] w-full h-[500px] bg-zinc-800 rounded-2xl\">\r\n                        <div className=' h-full w-full p-4 pt-4'>\r\n                            <div className=' flex justify-end'>\r\n                                <div onClick={() => {\r\n                                    radioRef.current!.checked = false;\r\n                                    setLoading(false)\r\n                                }}\r\n                                    className=' rounded-full bg-zinc-600 hover:bg-zinc-500'\r\n                                >\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\" width=\"24px\" fill=\"#fff\"><path d=\"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z\" /></svg>\r\n                                </div>\r\n                            </div>\r\n                            <div className=' h-1/2 my-2'>\r\n                                {\r\n                                    nft?.media_type == \"image\" ?\r\n                                        <img src=\"/test1.avif\" alt=\"\" className=' relative block h-full rounded-2xl  w-full object-cover aspect-square' />\r\n                                        : <video src={nft?.image} className=' relative block h-full rounded-2xl  w-full object-cover aspect-square' />\r\n                                }\r\n                            </div>\r\n                            <div>\r\n                                <h3 className=' text-2xl font-semibold mb-4'>{nft?.name}  #{nft?.tokenId}</h3>\r\n                            </div>\r\n                            <form>\r\n                                <div className=\"mb-6 bg-zinc-900 py-4 px-4 rounded-2xl text-white\">\r\n                                    Price : <span className=' font-bold '>{nft?.price} BaseCoin</span>\r\n                                </div>\r\n                                <button onClick={handleSubmit} type=\"button\" disabled={isLoading} className=\" border border-zinc-300 text-zinc-900 text-sm rounded-lg bg-indigo-500 focus:border-indigo-500 block w-full p-3.5  dark:border-zinc-600 dark:placeholder-zinc-400 dark:text-white dark:focus:ring-indigo-500 dark:focus:border-indigo-500\" >\r\n                                    {\r\n                                        isLoading ? \"Processing....\" : \"Buy\"\r\n                                    }\r\n                                </button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        {/*  */}\r\n        <div className=' h-[320px] md:max-w-[280px] flex flex-col p-2 border border-zinc-700 hover:shadow-md shadow-zinc-800 rounded-2xl bg-zinc-800'>\r\n                  <div className='relative h-2/3 group '>\r\n                    <div className='group-hover:opacity-100 opacity-0 transition-all delay-75 duration-200  absolute top-0 left-0 right-0 bottom-0 bg-black/20 z-10 flex justify-center items-center'>\r\n                    <label htmlFor={nft?.tokenId?.toString()} className=\" bg-[#6154f3] text-white rounded-xl px-4 py-2  \">Buy Now</label>\r\n                    </div>\r\n                    {\r\n                        nft?.media_type == \"image\"?\r\n                        <img src=\"/test1.avif\" alt=\"\" className=' relative block h-full rounded-2xl  w-full object-cover aspect-square' />\r\n                        : <video src={nft?.image} className=' relative block h-full rounded-2xl  w-full object-cover aspect-square' />\r\n                    }\r\n                  </div>\r\n                  <div className=' flex-1 py-2 flex justify-between  flex-col'>\r\n                      <div className='px-2 text-sm'>\r\n                        <p>{nft?.name}</p>\r\n                      </div>\r\n                      <div className=' px-4 py-1 flex justify-between items-center bg-zinc-900 rounded-xl'>\r\n                          <div className='flex text-sm ite space-y-0.5 flex-col'>\r\n                            <p className=' text-xs'>Sale</p>\r\n                            <p className=''>Active</p>\r\n                          </div>\r\n                          <div className='flex space-y-0.5 items-end flex-col'>\r\n                            <p className=' text-xs'>Price</p>\r\n                            <p className=''>{formatEther(nft?.price?.toString()!).slice(0, 6)}1 BC</p>\r\n                          </div>\r\n                      </div>\r\n                  </div>\r\n              </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 797, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS%20FX95G/Desktop/celusion/nft-marketplace/frontend/components/listed-assets.tsx"],"sourcesContent":["\"use client\"\r\nimport { IWeb3Context, useWeb3Context } from '@/context/web3Context';\r\nimport useContract from '@/hooks/useReadContract';\r\nimport { ListedNFT } from '@/interface/nft';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { NFTCardSeleton } from './nft-card';\r\nimport SaleCard from './sale-card';\r\n\r\nfunction ListedAssets() {\r\n    const [isLoading, setLoading] = useState<boolean>(false);\r\n    const { state } = useWeb3Context() as IWeb3Context;\r\n    const market_contract = useContract({ contracts: \"BaseMarket\" });\r\n    const nft_contract = useContract({ contracts: \"BaseNft\" });\r\n    const [listedNfts, setListedNfts] = useState<ListedNFT[]|null>()\r\n\r\n    \r\n    useEffect(() => {\r\n        getListedNFts()\r\n    }, [])\r\n    const getListedNFts = async ()=>{\r\n        try {\r\n          setLoading(true)\r\n            const listedAssets = await market_contract?.getListedAssets(0, 10);\r\n            console.log(listedAssets)\r\n            \r\n            let allItems = [];\r\n            for (const item of listedAssets!){\r\n              console.log(item)\r\n              const [tokenId, price, owner] = item as any;\r\n              allItems.push({\r\n                tokenId,\r\n                price,\r\n                owner\r\n              })\r\n          }\r\n          console.log(allItems);\r\n\r\n          const nftData = await Promise.all(\r\n            Array.from(allItems).map(async (item)=>{\r\n                try {\r\n                    let tokenUri = await nft_contract?.tokenURI(item.tokenId);\r\n                    if(tokenUri == \"\"){\r\n                        return {\r\n                            ...item\r\n                        }\r\n                    }\r\n                    const res = fetch(tokenUri);\r\n                    const data = await (await res).json();\r\n                    console.log(data)\r\n                    return {\r\n                        ...data,\r\n                        ...item\r\n                    } as ListedNFT;\r\n                } catch (error) {\r\n                   console.error(error) \r\n                   return null\r\n                }\r\n            })\r\n        )\r\n\r\n        setListedNfts(nftData as any);\r\n        setLoading(false)\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n  return (\r\n    <div>\r\n      <section className='grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5' >\r\n         {\r\n          isLoading ? [1,2,3,4,5].map((i)=>{\r\n            return <NFTCardSeleton key={i} />\r\n        }):\r\n        listedNfts?.map((nft)=>\r\n                <SaleCard key={nft?.tokenId} nft={nft} />\r\n            )\r\n         }\r\n         {\r\n            listedNfts?.length ==0 && <div>No Sales today Sorry</div>\r\n        }\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ListedAssets"],"names":[],"mappings":";;;;AACA;AACA;AAEA;AACA;AACA;AANA;;;;;;;AAQA,SAAS;IACL,MAAM,CAAC,WAAW,WAAW,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAW;IAClD,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,uHAAA,CAAA,iBAAc,AAAD;IAC/B,MAAM,kBAAkB,CAAA,GAAA,yHAAA,CAAA,UAAW,AAAD,EAAE;QAAE,WAAW;IAAa;IAC9D,MAAM,eAAe,CAAA,GAAA,yHAAA,CAAA,UAAW,AAAD,EAAE;QAAE,WAAW;IAAU;IACxD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD;IAG3C,CAAA,GAAA,oUAAA,CAAA,YAAS,AAAD,EAAE;QACN;IACJ,GAAG,EAAE;IACL,MAAM,gBAAgB;QAClB,IAAI;YACF,WAAW;YACT,MAAM,eAAe,MAAM,iBAAiB,gBAAgB,GAAG;YAC/D,QAAQ,GAAG,CAAC;YAEZ,IAAI,WAAW,EAAE;YACjB,KAAK,MAAM,QAAQ,aAAc;gBAC/B,QAAQ,GAAG,CAAC;gBACZ,MAAM,CAAC,SAAS,OAAO,MAAM,GAAG;gBAChC,SAAS,IAAI,CAAC;oBACZ;oBACA;oBACA;gBACF;YACJ;YACA,QAAQ,GAAG,CAAC;YAEZ,MAAM,UAAU,MAAM,QAAQ,GAAG,CAC/B,MAAM,IAAI,CAAC,UAAU,GAAG,CAAC,OAAO;gBAC5B,IAAI;oBACA,IAAI,WAAW,MAAM,cAAc,SAAS,KAAK,OAAO;oBACxD,IAAG,YAAY,IAAG;wBACd,OAAO;4BACH,GAAG,IAAI;wBACX;oBACJ;oBACA,MAAM,MAAM,MAAM;oBAClB,MAAM,OAAO,MAAM,CAAC,MAAM,GAAG,EAAE,IAAI;oBACnC,QAAQ,GAAG,CAAC;oBACZ,OAAO;wBACH,GAAG,IAAI;wBACP,GAAG,IAAI;oBACX;gBACJ,EAAE,OAAO,OAAO;oBACb,QAAQ,KAAK,CAAC;oBACd,OAAO;gBACV;YACJ;YAGJ,cAAc;YACd,WAAW;QAEX,EAAE,OAAO,OAAO;YACZ,QAAQ,GAAG,CAAC;QAChB;IACJ;IACF,qBACE,6WAAC;kBACC,cAAA,6WAAC;YAAQ,WAAU;;gBAEf,YAAY;oBAAC;oBAAE;oBAAE;oBAAE;oBAAE;iBAAE,CAAC,GAAG,CAAC,CAAC;oBAC3B,qBAAO,6WAAC,0HAAA,CAAA,iBAAc,MAAM;;;;;gBAChC,KACA,YAAY,IAAI,CAAC,oBACT,6WAAC,2HAAA,CAAA,UAAQ;wBAAoB,KAAK;uBAAnB,KAAK;;;;;gBAIxB,YAAY,UAAS,mBAAK,6WAAC;8BAAI;;;;;;;;;;;;;;;;;AAK3C;uCAEe","debugId":null}}]
}